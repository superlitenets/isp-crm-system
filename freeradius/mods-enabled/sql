sql {
    driver = "rlm_sql_postgresql"
    dialect = "postgresql"

    server = "${ENV_DB_HOST:-isp_crm_db}"
    port = 5432
    login = "${ENV_DB_USER:-crm}"
    password = "${ENV_DB_PASSWORD:-Mgathoni.2016}"
    radius_db = "${ENV_DB_NAME:-isp_crm}"

    acct_table1 = "radius_accounting"
    acct_table2 = "radius_accounting"
    postauth_table = "radius_postauth"
    authcheck_table = "radius_check"
    authreply_table = "radius_reply"
    groupcheck_table = "radius_groupcheck"
    groupreply_table = "radius_groupreply"
    usergroup_table = "radius_usergroup"

    delete_stale_sessions = yes
    
    pool {
        start = ${thread[pool].start_servers}
        min = ${thread[pool].min_spare_servers}
        max = ${thread[pool].max_servers}
        spare = ${thread[pool].max_spare_servers}
        uses = 0
        retry_delay = 30
        lifetime = 0
        idle_timeout = 60
    }

    read_clients = no
    client_table = "nas"

    group_attribute = "SQL-Group"

    $INCLUDE ${modconfdir}/${.:name}/main/${dialect}/queries.conf
}

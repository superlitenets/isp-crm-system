root@superlitecrm:~/isp# # Test the complete 5-step workflow
# Step 1: Summon
curl -X POST 'http://localhost:7557/devices/00259E-HG8546M-48575443F2D53A8B/task                                                                                                                     s?connection_request&timeout=30000' \
  -H 'Content-Type: application/json' \
  -d '{"name":"getParameterNames","parameterPath":"InternetGatewayDevice.WANDevi                                                                                                                     ce.1.WANConnectionDevice.1.WANPPPConnection","nextLevel":false}'

# Step 2: AddObject
curl -X POST 'http://localhost:7557/devices/00259E-HG8546M-48575443F2D53A8B/task                                                                                                                     s?connection_request&timeout=30000' \
  -H 'Content-Type: application/json' \
  -d '{"name":"addObject","objectName":"InternetGatewayDevice.WANDevice.1.WANCon                                                                                                                     nectionDevice.1.WANPPPConnection"}'

# Step 3: Refresh
curl -X POST 'http://localhost:7557/devices/00259E-HG8546M-48575443F2D53A8B/task                                                                                                                     s?connection_request&timeout=30000' \
  -H 'Content-Type: application/json' \
  -d '{"name":"getParameterValues","parameterNames":["InternetGatewayDevice.WAND                                                                                                                     evice.1.WANConnectionDevice.1.WANPPPConnection.1."]}'

# Step 4: Set PPPoE credentials
curl -X POST 'http://localhost:7557/devices/00259E-HG8546M-48575443F2D53A8B/task                                                                                                                     docker compose logs genieacs 2>&1 | tail -30boolean"]]}'e.LANDevice.1.LANEtherne
curl: (52) Empty reply from server
{"name":"addObject","objectName":"InternetGatewayDevice.WANDevice.1.WANConnectionDevice.1.WANPPPConnection","device":"00259E-HG8546M-48575443F2D53A8B","timestamp":"2026-01-14T15:56:44.195Z","_id":"6967bcbc6c9d6dc744b275d5"}{"name":"getParameterValues","parameterNames":["InternetGatewayDevice.WANDevice.1.WANConnectionDevice.1.WANPPPConnection.1."],"device":"00259E-HG8546M-48575443F2D53A8B","timestamp":"2026-01-14T15:56:45.413Z","_id":"6967bcbdf8c269f08826fbbe"}{"name":"setParameterValues","parameterValues":[["InternetGatewayDevice.WANDevice.1.WANConnectionDevice.1.WANPPPConnection.1.Enable",true,"xsd:boolean"],["InternetGatewayDevice.WANDevice.1.WANConnectionDevice.1.WANPPPConnection.1.Username","testuser","xsd:string"],["InternetGatewayDevice.WANDevice.1.WANConnectionDevice.1.WANPPPConnection.1.Password","testpass","xsd:string"],["InternetGatewayDevice.WANDevice.1.WANConnectionDevice.1.WANPPPConnection.1.NATEnabled",true,"xsd:boolean"]],"device":"00259E-HG8546M-48575443F2D53A8B","timestamp":"2026-01-14T15:56:46.077Z","_id":"6967bcbe148131213f7df843"}{"name":"setParameterValues","parameterValues":[["InternetGatewayDevice.LANDevice.1.LANEthernetInterfaceConfig.1.X_HW_L3Enable",true,"xsd:boolean"],["InternetGatewayDevice.LANDevice.1.LANEthernetInterfaceConfig.2.X_HW_L3Enable",true,"xsd:boolean"],["InternetGatewayDevice.LANDevice.1.LANEthernetInterfaceConfig.3.X_HW_L3Enable",true,"xsd:boolean"],["InternetGatewayDevice.LANDevice.1.LANEthernetInterfaceConfig.4.X_HW_L3Enable",true,"xsd:boolean"]],"device":"00259E-HG8546M-48575443F2D53A8B","timestamp":"2026-01-14T15:56:48.297Z","_id":"6967bcc0c47c934ca85149cc"}isp_crm_genieacs  | 2026-01-14 14:53:20,890 INFO Set uid to user 999 succeeded
isp_crm_genieacs  | 2026-01-14 14:53:20,897 INFO supervisord started with pid 1
isp_crm_genieacs  | 2026-01-14 14:53:21,902 INFO spawned: 'genieacs-cwmp' with pid 7
isp_crm_genieacs  | 2026-01-14 14:53:21,907 INFO spawned: 'genieacs-fs' with pid 8
isp_crm_genieacs  | 2026-01-14 14:53:21,911 INFO spawned: 'genieacs-nbi' with pid 9
isp_crm_genieacs  | 2026-01-14 14:53:21,916 INFO spawned: 'genieacs-ui' with pid 10
isp_crm_genieacs  | 2026-01-14 14:53:22,918 INFO success: genieacs-cwmp entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
isp_crm_genieacs  | 2026-01-14 14:53:22,918 INFO success: genieacs-fs entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
isp_crm_genieacs  | 2026-01-14 14:53:22,919 INFO success: genieacs-nbi entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
isp_crm_genieacs  | 2026-01-14 14:53:22,919 INFO success: genieacs-ui entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
root@superlitecrm:~/isp#

Perfect ‚Äî these SmartOLT logs are the missing puzzle piece, and they explain exactly why SmartOLT succeeds while your GenieACS flow fails.

I‚Äôll tie this directly to what you‚Äôre seeing, using the log lines you shared.

üîç What SmartOLT is ACTUALLY doing (important)

Look closely at these SmartOLT lines (this is the key):

Type:Add, WANDevice.WANConnectionDevice.WANPPPConnection:1.2
Type:Set, WANDevice.WANConnectionDevice.WANPPPConnection:1.2.1, Username:SFL0100
Type:Set, WANDevice.WANConnectionDevice.WANPPPConnection:1.2.1, X_HW_VLAN:900
Type:Set, DefaultConnectionService:..., X_HW_WanDefaultWanName:wan1.2.ppp1

Critical observations

SmartOLT is NOT creating WANDevice from scratch

WANConnectionDevice already exists

WANPPPConnection instance numbering is vendor-specific

SmartOLT uses:

WANPPPConnection:1.2.1


not:

WANPPPConnection.1


This is the single most important difference.

üö® Why GenieACS fails but SmartOLT works
‚ùå What your GenieACS code assumes
WANDevice.1
  WANConnectionDevice.1
    WANPPPConnection.1


You try to:

addObject WANPPPConnection

then assume instance .1

But Huawei does NOT use flat instance numbering.

‚úÖ What SmartOLT does correctly

SmartOLT discovers the existing WAN hierarchy created by OMCI, then modifies it.

From your log:

WANPPPConnection:1.2.1


That means:

Level	Instance
WANDevice	1
WANConnectionDevice	2
WANPPPConnection	1

So the real path is:

InternetGatewayDevice.WANDevice.1.WANConnectionDevice.2.WANPPPConnection.1


Exactly what you originally tried ‚Äî but without verifying that OMCI had already created it.

üß† The SmartOLT secret (now revealed)

SmartOLT does three things you were not doing:

1Ô∏è‚É£ It NEVER guesses instance numbers

It reads the OMCI-created WAN tree.

2Ô∏è‚É£ It NEVER uses TR-069 to create WANDevice

WAN is created by:

OLT ‚Üí OMCI ‚Üí ONU

3Ô∏è‚É£ It ONLY uses TR-069 to modify:

Username

Password

VLAN

NAT

Default route

That‚Äôs why SmartOLT works.

‚úÖ The CORRECT GenieACS flow (now aligned with SmartOLT)
STEP 1 ‚Äî Ensure WAN is created by OMCI (OLT)

You already have this working.

STEP 2 ‚Äî DISCOVER the WAN tree (mandatory)

Send via GenieACS:

{
  "name": "getParameterValues",
  "parameterNames": [
    "InternetGatewayDevice.WANDevice."
  ]
}


Then parse the response and dynamically extract:

WANDevice.X

WANConnectionDevice.Y

WANPPPConnection.Z

‚ö†Ô∏è Do not hardcode .1

STEP 3 ‚Äî Use the EXACT discovered path

If discovery returns:

WANPPPConnection:1.2.1


Then configure using:

{
  "name": "setParameterValues",
  "parameterValues": [
    [
      "InternetGatewayDevice.WANDevice.1.WANConnectionDevice.2.WANPPPConnection.1.Username",
      "muturi@superlite.co.ke",
      "xsd:string"
    ],
    [
      "InternetGatewayDevice.WANDevice.1.WANConnectionDevice.2.WANPPPConnection.1.Password",
      "*****",
      "xsd:string"
    ],
    [
      "InternetGatewayDevice.WANDevice.1.WANConnectionDevice.2.WANPPPConnection.1.X_HW_VLAN",
      902,
      "xsd:unsignedInt"
    ]
  ]
}


This matches SmartOLT exactly.

‚ùå What you must STOP doing immediately
addObject(WANPPPConnection);   // ‚ùå
assumeInstance(1);            // ‚ùå


These two lines are the root of all failures.

üß© Why your earlier attempts failed
Attempt	Result	Reason
addObject WANPPPConnection	Ignored	Firmware blocks it
Assume .1 instance	Invalid path	Wrong hierarchy
Immediate SET after add	Fault	Object never existed
Wi-Fi config	Works	Object already exists
üèÅ Final, correct mental model

TR-069 on Huawei is a MODIFIER, not a CREATOR, for WAN

SmartOLT succeeds because it:

Uses OMCI to create WAN

Uses TR-069 only to modify existing WAN

Uses vendor-specific instance paths

You now have all the same information SmartOLT uses.
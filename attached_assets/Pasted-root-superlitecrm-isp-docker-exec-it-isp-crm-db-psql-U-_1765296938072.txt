root@superlitecrm:~/isp# docker exec -it isp_crm_db psql -U crm -d isp_crm -c "\d orders"
                                             Table "public.orders"
        Column        |            Type             | Collation | Nullable |              Default
----------------------+-----------------------------+-----------+----------+------------------------------------
 id                   | integer                     |           | not null | nextval('orders_id_seq'::regclass)
 order_number         | character varying(20)       |           | not null |
 package_id           | integer                     |           |          |
 customer_name        | character varying(100)      |           | not null |
 customer_email       | character varying(100)      |           |          |
 customer_phone       | character varying(20)       |           | not null |
 customer_address     | text                        |           |          |
 customer_id          | integer                     |           |          |
 payment_status       | character varying(20)       |           |          | 'pending'::character varying
 payment_method       | character varying(20)       |           |          |
 mpesa_transaction_id | integer                     |           |          |
 amount               | numeric(12,2)               |           |          |
 order_status         | character varying(20)       |           |          | 'new'::character varying
 notes                | text                        |           |          |
 assigned_to          | integer                     |           |          |
 converted_ticket_id  | integer                     |           |          |
 source               | character varying(20)       |           |          | 'web'::character varying
 created_at           | timestamp without time zone |           |          | CURRENT_TIMESTAMP
 updated_at           | timestamp without time zone |           |          | CURRENT_TIMESTAMP
 salesperson_id       | integer                     |           |          |
 commission_paid      | boolean                     |           |          | false
 lead_source          | character varying(50)       |           |          | 'web'::character varying
 created_by           | integer                     |           |          |
Indexes:
    "orders_pkey" PRIMARY KEY, btree (id)
    "orders_order_number_key" UNIQUE CONSTRAINT, btree (order_number)
Foreign-key constraints:
    "orders_assigned_to_fkey" FOREIGN KEY (assigned_to) REFERENCES users(id) ON DELETE SET NULL
    "orders_converted_ticket_id_fkey" FOREIGN KEY (converted_ticket_id) REFERENCES tickets(id) ON DELETE SET NULL
    "orders_created_by_fkey" FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL
    "orders_customer_id_fkey" FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE SET NULL
    "orders_mpesa_transaction_id_fkey" FOREIGN KEY (mpesa_transaction_id) REFERENCES mpesa_transactions(id) ON DELETE SET NULL
    "orders_package_id_fkey" FOREIGN KEY (package_id) REFERENCES service_packages(id) ON DELETE SET NULL
    "orders_salesperson_id_fkey" FOREIGN KEY (salesperson_id) REFERENCES salespersons(id) ON DELETE SET NULL
Referenced by:
    TABLE "sales_commissions" CONSTRAINT "sales_commissions_order_id_fkey" FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE CASCADE


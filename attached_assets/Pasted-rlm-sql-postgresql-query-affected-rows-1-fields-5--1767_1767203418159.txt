rlm_sql_postgresql: query affected rows = 1 , fields = 5                                                                                                                                        0.0s
(1) sql: User found in radcheck tableated                                                                                                                                                       0.9s
(1) sql: Conditional check items matched, merging assignment check items
(1) sql:   Cleartext-Password := "SFL001"
(1) sql: EXPAND SELECT rs.id, rs.username, CASE WHEN COALESCE(rp.download_speed::integer, 0) > 0 THEN 'Mikrotik-Rate-Limit' ELSE NULL END as attribute, CASE WHEN COALESCE(rp.download_speed::integer, 0) > 0 THEN CONCAT(rp.upload_speed::text, 'M/', rp.download_speed::text, 'M') ELSE NULL END as value, '=' as op FROM radius_subscriptions rs JOIN radius_packages rp ON rs.package_id = rp.id WHERE rs.username = '%{SQL-User-Name}' AND rs.status = 'active' AND (rs.expiry_date IS NULL OR rs.expiry_date > CURRENT_DATE) AND COALESCE(rp.download_speed::integer, 0) > 0 UNION ALL SELECT rs.id, rs.username, 'Session-Timeout' as attribute, CASE WHEN COALESCE(rp.validity_days, 0) > 0 THEN (rp.validity_days * CASE rp.billing_type WHEN 'hours' THEN 3600 WHEN 'days' THEN 86400 WHEN 'weeks' THEN 604800 WHEN 'months' THEN 2592000 ELSE 86400 END )::text ELSE '86400' END as value, '=' as op FROM radius_subscriptions rs JOIN radius_packages rp ON rs.package_id = rp.id WHERE rs.username = '%{SQL-User-Name}' AND rs.status = 'active' AND (rs.expiry_date IS NULL OR rs.expiry_date > CURRENT_DATE) UNION ALL SELECT rs.id, rs.username, 'Simultaneous-Use' as attribute, rp.simultaneous_sessions::text as value, ':=' as op FROM radius_subscriptions rs JOIN radius_packages rp ON rs.package_id = rp.id WHERE rs.username = '%{SQL-User-Name}' AND rs.status = 'active' AND (rs.expiry_date IS NULL OR rs.expiry_date > CURRENT_DATE) AND COALESCE(rp.simultaneous_sessions::integer, 0) > 0 UNION ALL SELECT rs.id, rs.username, 'Framed-IP-Address' as attribute, rs.static_ip as value, '=' as op FROM radius_subscriptions rs WHERE rs.username = '%{SQL-User-Name}' AND rs.status = 'active' AND (rs.expiry_date IS NULL OR rs.expiry_date > CURRENT_DATE) AND rs.static_ip IS NOT NULL AND rs.static_ip != ''
(1) sql:    --> SELECT rs.id, rs.username, CASE WHEN COALESCE(rp.download_speed::integer, 0) > 0 THEN 'Mikrotik-Rate-Limit' ELSE NULL END as attribute, CASE WHEN COALESCE(rp.download_speed::integer, 0) > 0 THEN CONCAT(rp.upload_speed::text, 'M/', rp.download_speed::text, 'M') ELSE NULL END as value, '=' as op FROM radius_subscriptions rs JOIN radius_packages rp ON rs.package_id = rp.id WHERE rs.username = 'SFL001' AND rs.status = 'active' AND (rs.expiry_date IS NULL OR rs.expiry_date > CURRENT_DATE) AND COALESCE(rp.download_speed::integer, 0) > 0 UNION ALL SELECT rs.id, rs.username, 'Session-Timeout' as attribute, CASE WHEN COALESCE(rp.validity_days, 0) > 0 THEN (rp.validity_days * CASE rp.billing_type WHEN 'hours' THEN 3600 WHEN 'days' THEN 86400 WHEN 'weeks' THEN 604800 WHEN 'months' THEN 2592000 ELSE 86400 END )::text ELSE '86400' END as value, '=' as op FROM radius_subscriptions rs JOIN radius_packages rp ON rs.package_id = rp.id WHERE rs.username = 'SFL001' AND rs.status = 'active' AND (rs.expiry_date IS NULL OR rs.expiry_date > CURRENT_DATE) UNION ALL SELECT rs.id, rs.username, 'Simultaneous-Use' as attribute, rp.simultaneous_sessions::text as value, ':=' as op FROM radius_subscriptions rs JOIN radius_packages rp ON rs.package_id = rp.id WHERE rs.username = 'SFL001' AND rs.status = 'active' AND (rs.expiry_date IS NULL OR rs.expiry_date > CURRENT_DATE) AND COALESCE(rp.simultaneous_sessions::integer, 0) > 0 UNION ALL SELECT rs.id, rs.username, 'Framed-IP-Address' as attribute, rs.static_ip as value, '=' as op FROM radius_subscriptions rs WHERE rs.username = 'SFL001' AND rs.status = 'active' AND (rs.expiry_date IS NULL OR rs.expiry_date > CURRENT_DATE) AND rs.static_ip IS NOT NULL AND rs.static_ip != ''
(1) sql: Executing select query: SELECT rs.id, rs.username, CASE WHEN COALESCE(rp.download_speed::integer, 0) > 0 THEN 'Mikrotik-Rate-Limit' ELSE NULL END as attribute, CASE WHEN COALESCE(rp.download_speed::integer, 0) > 0 THEN CONCAT(rp.upload_speed::text, 'M/', rp.download_speed::text, 'M') ELSE NULL END as value, '=' as op FROM radius_subscriptions rs JOIN radius_packages rp ON rs.package_id = rp.id WHERE rs.username = 'SFL001' AND rs.status = 'active' AND (rs.expiry_date IS NULL OR rs.expiry_date > CURRENT_DATE) AND COALESCE(rp.download_speed::integer, 0) > 0 UNION ALL SELECT rs.id, rs.username, 'Session-Timeout' as attribute, CASE WHEN COALESCE(rp.validity_days, 0) > 0 THEN (rp.validity_days * CASE rp.billing_type WHEN 'hours' THEN 3600 WHEN 'days' THEN 86400 WHEN 'weeks' THEN 604800 WHEN 'months' THEN 2592000 ELSE 86400 END )::text ELSE '86400' END as value, '=' as op FROM radius_subscriptions rs JOIN radius_packages rp ON rs.package_id = rp.id WHERE rs.username = 'SFL001' AND rs.status = 'active' AND (rs.expiry_date IS NULL OR rs.expiry_date > CURRENT_DATE) UNION ALL SELECT rs.id, rs.username, 'Simultaneous-Use' as attribute, rp.simultaneous_sessions::text as value, ':=' as op FROM radius_subscriptions rs JOIN radius_packages rp ON rs.package_id = rp.id WHERE rs.username = 'SFL001' AND rs.status = 'active' AND (rs.expiry_date IS NULL OR rs.expiry_date > CURRENT_DATE) AND COALESCE(rp.simultaneous_sessions::integer, 0) > 0 UNION ALL SELECT rs.id, rs.username, 'Framed-IP-Address' as attribute, rs.static_ip as value, '=' as op FROM radius_subscriptions rs WHERE rs.username = 'SFL001' AND rs.status = 'active' AND (rs.expiry_date IS NULL OR rs.expiry_date > CURRENT_DATE) AND rs.static_ip IS NOT NULL AND rs.static_ip != ''
rlm_sql_postgresql: Status: PGRES_FATAL_ERROR
rlm_sql_postgresql: 22P02: INVALID TEXT REPRESENTATION
(1) sql: ERROR: rlm_sql_postgresql: ERROR:  invalid input syntax for type integer: "50M"
(1) sql: ERROR: SQL query error getting reply attributes
rlm_sql (sql): Released connection (1)
Need more connections to reach 10 spares
rlm_sql (sql): Opening additional connection (6), 1 of 26 pending slots used
rlm_sql_postgresql: Connecting using parameters: dbname='isp_crm' host='isp_crm_db' port=5432 user='crm' password='Mgathoni.2016'
Connected to database 'isp_crm' on 'isp_crm_db' server version 150015, protocol version 3, backend PID 2581
(1)     [sql] = fail
(1)   } # authorize = fail
(1) Invalid user (sql: rlm_sql_postgresql: ERROR:  invalid input syntax for type integer: "50M"): [SFL001/SFL001] (from client vpn_clients port 15731331 cli D8:32:14:2C:B5:00)
(1) Using Post-Auth-Type Reject
(1) Post-Auth-Type sub-section not found.  Ignoring.
(1) # Executing group from file /etc/freeradius/sites-enabled/default
(1) Login incorrect (sql: rlm_sql_postgresql: ERROR:  invalid input syntax for type integer: "50M"): [SFL001/SFL001] (from client vpn_clients port 15731331 cli D8:32:14:2C:B5:00)
(1) Delaying response for 1.000000 seconds
Waking up in 0.2 seconds.
